<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Troubleshooting | Theengs OpenMQTTGateway v1.8.0</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="apple-touch-icon" sizes="180x180" href=".apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#3eaf7c">
    <script type="module" src="https://unpkg.com/esp-web-tools@9.4.3/dist/web/install-button.js?module"></script>
    <meta name="description" content="One gateway, many technologies: MQTT gateway for ESP8266 or ESP32 with bidirectional 433mhz/315mhz/868mhz, Infrared communications, BLE, LoRa, beacons detection, mi flora / mi jia / LYWSD02/ Mi Scale compatibility, SMS &amp; LORA.">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/favicon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/assets/css/0.styles.d60bac15.css" as="style"><link rel="preload" href="/assets/js/app.f837f19b.js" as="script"><link rel="preload" href="/assets/js/2.1486a66d.js" as="script"><link rel="preload" href="/assets/js/1.4ad45915.js" as="script"><link rel="preload" href="/assets/js/135.030d46e1.js" as="script"><link rel="prefetch" href="/assets/js/10.679d60ae.js"><link rel="prefetch" href="/assets/js/100.6c9de72a.js"><link rel="prefetch" href="/assets/js/101.cf23b52a.js"><link rel="prefetch" href="/assets/js/102.799e7f7d.js"><link rel="prefetch" href="/assets/js/103.fe8a4389.js"><link rel="prefetch" href="/assets/js/104.e3dfe83c.js"><link rel="prefetch" href="/assets/js/105.05b1f092.js"><link rel="prefetch" href="/assets/js/106.d0d1bfce.js"><link rel="prefetch" href="/assets/js/107.e18a51ed.js"><link rel="prefetch" href="/assets/js/108.f68bc055.js"><link rel="prefetch" href="/assets/js/109.d09a8d95.js"><link rel="prefetch" href="/assets/js/11.a0e96e5a.js"><link rel="prefetch" href="/assets/js/110.1ec8c36a.js"><link rel="prefetch" href="/assets/js/111.ba658c78.js"><link rel="prefetch" href="/assets/js/112.294eb4ae.js"><link rel="prefetch" href="/assets/js/113.4abefe09.js"><link rel="prefetch" href="/assets/js/114.9e7e0a24.js"><link rel="prefetch" href="/assets/js/115.d315d9c3.js"><link rel="prefetch" href="/assets/js/116.c9712cc5.js"><link rel="prefetch" href="/assets/js/117.bc7fe2e6.js"><link rel="prefetch" href="/assets/js/118.ba8786e0.js"><link rel="prefetch" href="/assets/js/119.7d350f55.js"><link rel="prefetch" href="/assets/js/12.3d501858.js"><link rel="prefetch" href="/assets/js/120.ab0bc866.js"><link rel="prefetch" href="/assets/js/121.0d7c83b0.js"><link rel="prefetch" href="/assets/js/122.0e6fbf9d.js"><link rel="prefetch" href="/assets/js/123.2e9d5a8c.js"><link rel="prefetch" href="/assets/js/124.95a09c6b.js"><link rel="prefetch" href="/assets/js/125.6c86696a.js"><link rel="prefetch" href="/assets/js/126.bc94a8fe.js"><link rel="prefetch" href="/assets/js/127.a5742dc8.js"><link rel="prefetch" href="/assets/js/128.28aaff15.js"><link rel="prefetch" href="/assets/js/129.f6b7e5ff.js"><link rel="prefetch" href="/assets/js/13.aa7cc538.js"><link rel="prefetch" href="/assets/js/130.a8ac813b.js"><link rel="prefetch" href="/assets/js/131.d357026c.js"><link rel="prefetch" href="/assets/js/132.b6c90de7.js"><link rel="prefetch" href="/assets/js/133.b9c5d093.js"><link rel="prefetch" href="/assets/js/134.b07eb44d.js"><link rel="prefetch" href="/assets/js/136.46df54bb.js"><link rel="prefetch" href="/assets/js/137.8915a3ed.js"><link rel="prefetch" href="/assets/js/138.1b480ea8.js"><link rel="prefetch" href="/assets/js/139.7613b89d.js"><link rel="prefetch" href="/assets/js/14.d4097d38.js"><link rel="prefetch" href="/assets/js/140.b1657685.js"><link rel="prefetch" href="/assets/js/141.94c44889.js"><link rel="prefetch" href="/assets/js/142.dfecb355.js"><link rel="prefetch" href="/assets/js/15.0dfffdbd.js"><link rel="prefetch" href="/assets/js/16.ec9594f5.js"><link rel="prefetch" href="/assets/js/17.608bee5e.js"><link rel="prefetch" href="/assets/js/18.9e31d1bc.js"><link rel="prefetch" href="/assets/js/19.7c603986.js"><link rel="prefetch" href="/assets/js/20.b2e40f1b.js"><link rel="prefetch" href="/assets/js/21.7b107266.js"><link rel="prefetch" href="/assets/js/22.1fa11360.js"><link rel="prefetch" href="/assets/js/23.d5ff69ee.js"><link rel="prefetch" href="/assets/js/24.4273fd19.js"><link rel="prefetch" href="/assets/js/25.3cdd6711.js"><link rel="prefetch" href="/assets/js/26.a1bfb6b4.js"><link rel="prefetch" href="/assets/js/27.58faa6bb.js"><link rel="prefetch" href="/assets/js/28.876af64b.js"><link rel="prefetch" href="/assets/js/29.df241652.js"><link rel="prefetch" href="/assets/js/3.2fb8cc22.js"><link rel="prefetch" href="/assets/js/30.02e9602c.js"><link rel="prefetch" href="/assets/js/31.7ec0b927.js"><link rel="prefetch" href="/assets/js/32.bf6ed2d3.js"><link rel="prefetch" href="/assets/js/33.26d560c8.js"><link rel="prefetch" href="/assets/js/34.c87f68f5.js"><link rel="prefetch" href="/assets/js/35.18554129.js"><link rel="prefetch" href="/assets/js/36.f557ac44.js"><link rel="prefetch" href="/assets/js/37.43d9e741.js"><link rel="prefetch" href="/assets/js/38.a49da124.js"><link rel="prefetch" href="/assets/js/39.96ef8bda.js"><link rel="prefetch" href="/assets/js/4.2a2fed8f.js"><link rel="prefetch" href="/assets/js/40.1255e9bb.js"><link rel="prefetch" href="/assets/js/41.c56bed06.js"><link rel="prefetch" href="/assets/js/42.22a6564e.js"><link rel="prefetch" href="/assets/js/43.e234c01e.js"><link rel="prefetch" href="/assets/js/44.326a92a4.js"><link rel="prefetch" href="/assets/js/45.8034df12.js"><link rel="prefetch" href="/assets/js/46.5eb4ec32.js"><link rel="prefetch" href="/assets/js/47.0d1f0458.js"><link rel="prefetch" href="/assets/js/48.fbb11cfa.js"><link rel="prefetch" href="/assets/js/49.0ac9353c.js"><link rel="prefetch" href="/assets/js/5.e28032c6.js"><link rel="prefetch" href="/assets/js/50.3242e372.js"><link rel="prefetch" href="/assets/js/51.c9fbf19a.js"><link rel="prefetch" href="/assets/js/52.5747715a.js"><link rel="prefetch" href="/assets/js/53.080ac1a5.js"><link rel="prefetch" href="/assets/js/54.b4aa04b9.js"><link rel="prefetch" href="/assets/js/55.3d54439e.js"><link rel="prefetch" href="/assets/js/56.23aa37ff.js"><link rel="prefetch" href="/assets/js/57.d9dc58a1.js"><link rel="prefetch" href="/assets/js/58.c3ccaf76.js"><link rel="prefetch" href="/assets/js/59.7acaa7ed.js"><link rel="prefetch" href="/assets/js/6.641c06fe.js"><link rel="prefetch" href="/assets/js/60.808d0e07.js"><link rel="prefetch" href="/assets/js/61.ebb384a5.js"><link rel="prefetch" href="/assets/js/62.e0809188.js"><link rel="prefetch" href="/assets/js/63.564bb785.js"><link rel="prefetch" href="/assets/js/64.7b220333.js"><link rel="prefetch" href="/assets/js/65.4a957a69.js"><link rel="prefetch" href="/assets/js/66.199b8078.js"><link rel="prefetch" href="/assets/js/67.a3ca1b26.js"><link rel="prefetch" href="/assets/js/68.9f13a26f.js"><link rel="prefetch" href="/assets/js/69.48e7a551.js"><link rel="prefetch" href="/assets/js/7.dafeb66f.js"><link rel="prefetch" href="/assets/js/70.183092c4.js"><link rel="prefetch" href="/assets/js/71.dc783a10.js"><link rel="prefetch" href="/assets/js/72.5837a359.js"><link rel="prefetch" href="/assets/js/73.acbbe34f.js"><link rel="prefetch" href="/assets/js/74.a11bfcb6.js"><link rel="prefetch" href="/assets/js/75.3520eab2.js"><link rel="prefetch" href="/assets/js/76.1cfdeb8a.js"><link rel="prefetch" href="/assets/js/77.f5bd2c0f.js"><link rel="prefetch" href="/assets/js/78.f2a2bb7c.js"><link rel="prefetch" href="/assets/js/79.8e3335a9.js"><link rel="prefetch" href="/assets/js/80.ba98eec9.js"><link rel="prefetch" href="/assets/js/81.a09455a6.js"><link rel="prefetch" href="/assets/js/82.b640103a.js"><link rel="prefetch" href="/assets/js/83.27706e4c.js"><link rel="prefetch" href="/assets/js/84.c782543e.js"><link rel="prefetch" href="/assets/js/85.b13ad98e.js"><link rel="prefetch" href="/assets/js/86.983b9dac.js"><link rel="prefetch" href="/assets/js/87.30b22b3d.js"><link rel="prefetch" href="/assets/js/88.d7f20abf.js"><link rel="prefetch" href="/assets/js/89.67dfd670.js"><link rel="prefetch" href="/assets/js/90.53fba60f.js"><link rel="prefetch" href="/assets/js/91.dc2e9665.js"><link rel="prefetch" href="/assets/js/92.9adbbdb6.js"><link rel="prefetch" href="/assets/js/93.1df335f2.js"><link rel="prefetch" href="/assets/js/94.7d7f8314.js"><link rel="prefetch" href="/assets/js/95.180e554f.js"><link rel="prefetch" href="/assets/js/96.e538d163.js"><link rel="prefetch" href="/assets/js/97.5ee5ef36.js"><link rel="prefetch" href="/assets/js/98.563eba4b.js"><link rel="prefetch" href="/assets/js/99.8dd0b4c6.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.fc117b08.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d60bac15.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Theengs OpenMQTTGateway v1.8.0</span></a> <div class="links"><!----> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://www.theengs.io" target="_self" class="nav-link external">
  Home
  <!----></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Use cases" class="dropdown-title"><span class="title">Use cases</span> <span class="arrow down"></span></button> <button type="button" aria-label="Use cases" class="mobile-dropdown-title"><span class="title">Use cases</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.theengs.io/usecases/smarthome.html" target="_self" class="nav-link external">
  Smart Home
  <!----></a></li><li class="dropdown-item"><!----> <a href="https://www.theengs.io/usecases/iot.html" target="_self" class="nav-link external">
  IoT
  <!----></a></li><li class="dropdown-item"><!----> <a href="https://www.theengs.io/usecases/research.html" target="_self" class="nav-link external">
  Research
  <!----></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Solutions" class="dropdown-title"><span class="title">Solutions</span> <span class="arrow down"></span></button> <button type="button" aria-label="Solutions" class="mobile-dropdown-title"><span class="title">Solutions</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Hardware
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://shop.theengs.io/products/theengs-plug-smart-plug-ble-gateway-and-energy-consumption" target="_self" class="nav-link external">
  Theengs Plug
  <!----></a></li><li class="dropdown-subitem"><a href="https://shop.theengs.io/products/theengs-bridge-esp32-ble-mqtt-gateway-with-ethernet-and-external-antenna" target="_self" class="nav-link external">
  Theengs Bridge
  <!----></a></li></ul></li><li class="dropdown-item"><h4>
          Software
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://app.theengs.io" target="_self" class="nav-link external">
  Mobile App
  <!----></a></li><li class="dropdown-subitem"><a href="https://docs.openmqttgateway.com" target="_self" class="nav-link external">
  OpenMQTTGateway
  <!----></a></li><li class="dropdown-subitem"><a href="https://gateway.theengs.io" target="_self" class="nav-link external">
  Gateway
  <!----></a></li></ul></li><li class="dropdown-item"><h4>
          Core
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://decoder.theengs.io" target="_self" class="nav-link external">
  Decoder
  <!----></a></li><li class="dropdown-subitem"><a href="https://parser.theengs.io" target="_self" class="nav-link external">
  Web Parser
  <!----></a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://decoder.theengs.io/devices/devices.html" target="_self" class="nav-link external">
  Compatible devices
  <!----></a></div><div class="nav-item"><a href="https://community.openmqttgateway.com" target="_self" class="nav-link external">
  Community
  <!----></a></div><div class="nav-item"><a href="https://shop.theengs.io/" target="_self" class="nav-link external">
  Shop
  <!----></a></div><div class="nav-item"><a href="https://github.com/sponsors/theengs" target="_self" class="nav-link external">
  Sponsor 🤍
  <!----></a></div> <a href="https://github.com/1technophile/OpenMQTTGateway" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://www.theengs.io" target="_self" class="nav-link external">
  Home
  <!----></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Use cases" class="dropdown-title"><span class="title">Use cases</span> <span class="arrow down"></span></button> <button type="button" aria-label="Use cases" class="mobile-dropdown-title"><span class="title">Use cases</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.theengs.io/usecases/smarthome.html" target="_self" class="nav-link external">
  Smart Home
  <!----></a></li><li class="dropdown-item"><!----> <a href="https://www.theengs.io/usecases/iot.html" target="_self" class="nav-link external">
  IoT
  <!----></a></li><li class="dropdown-item"><!----> <a href="https://www.theengs.io/usecases/research.html" target="_self" class="nav-link external">
  Research
  <!----></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Solutions" class="dropdown-title"><span class="title">Solutions</span> <span class="arrow down"></span></button> <button type="button" aria-label="Solutions" class="mobile-dropdown-title"><span class="title">Solutions</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Hardware
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://shop.theengs.io/products/theengs-plug-smart-plug-ble-gateway-and-energy-consumption" target="_self" class="nav-link external">
  Theengs Plug
  <!----></a></li><li class="dropdown-subitem"><a href="https://shop.theengs.io/products/theengs-bridge-esp32-ble-mqtt-gateway-with-ethernet-and-external-antenna" target="_self" class="nav-link external">
  Theengs Bridge
  <!----></a></li></ul></li><li class="dropdown-item"><h4>
          Software
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://app.theengs.io" target="_self" class="nav-link external">
  Mobile App
  <!----></a></li><li class="dropdown-subitem"><a href="https://docs.openmqttgateway.com" target="_self" class="nav-link external">
  OpenMQTTGateway
  <!----></a></li><li class="dropdown-subitem"><a href="https://gateway.theengs.io" target="_self" class="nav-link external">
  Gateway
  <!----></a></li></ul></li><li class="dropdown-item"><h4>
          Core
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://decoder.theengs.io" target="_self" class="nav-link external">
  Decoder
  <!----></a></li><li class="dropdown-subitem"><a href="https://parser.theengs.io" target="_self" class="nav-link external">
  Web Parser
  <!----></a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://decoder.theengs.io/devices/devices.html" target="_self" class="nav-link external">
  Compatible devices
  <!----></a></div><div class="nav-item"><a href="https://community.openmqttgateway.com" target="_self" class="nav-link external">
  Community
  <!----></a></div><div class="nav-item"><a href="https://shop.theengs.io/" target="_self" class="nav-link external">
  Shop
  <!----></a></div><div class="nav-item"><a href="https://github.com/sponsors/theengs" target="_self" class="nav-link external">
  Sponsor 🤍
  <!----></a></div> <a href="https://github.com/1technophile/OpenMQTTGateway" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/" aria-current="page" class="sidebar-link">0 - What is it for 🏠</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>1 - Prerequisites🧭</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>2 - Set it up 🔨</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>3 - Upload ➡️</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/upload/web-install.html" class="sidebar-link">(Option 1) Upload from the web</a></li><li><a href="/upload/binaries.html" class="sidebar-link">(Option 2) Upload ready-to-go binaries</a></li><li><a href="/upload/builds.html" class="sidebar-link">(Option 3) Upload your configurations</a></li><li><a href="/upload/gitpod.html" class="sidebar-link">(Option 4) Build from the web</a></li><li><a href="/upload/portal.html" class="sidebar-link">Wifi and MQTT configuration</a></li><li><a href="/upload/advanced-configuration.html" class="sidebar-link">Advanced configuration of the gateway</a></li><li><a href="/upload/troubleshoot.html" aria-current="page" class="active sidebar-link">Troubleshooting</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/upload/troubleshoot.html#compilation-build-error" class="sidebar-link">Compilation/build error</a></li><li class="sidebar-sub-header"><a href="/upload/troubleshoot.html#esp32-compilation-errors-related-to-wifi" class="sidebar-link">ESP32 compilation errors related to WiFi</a></li><li class="sidebar-sub-header"><a href="/upload/troubleshoot.html#not-able-to-send-or-receive-rf-or-ir" class="sidebar-link">Not able to send or receive RF or IR</a></li><li class="sidebar-sub-header"><a href="/upload/troubleshoot.html#repetitive-mqtt-disconnections-or-and-commands-sent-to-the-gateway-not-taken-into-account" class="sidebar-link">Repetitive MQTT disconnections or/and commands sent to the gateway not taken into account</a></li><li class="sidebar-sub-header"><a href="/upload/troubleshoot.html#omg-ignores-messages-sent-to-it-via-mqtt" class="sidebar-link">OMG ignores messages sent to it via MQTT</a></li><li class="sidebar-sub-header"><a href="/upload/troubleshoot.html#esp-continuous-restart-or-strange-behaviour" class="sidebar-link">ESP Continuous restart or strange behaviour:</a></li><li class="sidebar-sub-header"><a href="/upload/troubleshoot.html#esp-does-not-connect-to-broker-with-tls-enabled" class="sidebar-link">ESP does not connect to broker with TLS enabled</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>4 - Use ✈️</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>5 - Integrate 🎉</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>6 - Participate 💻</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="troubleshooting"><a href="#troubleshooting" class="header-anchor">#</a> Troubleshooting</h1> <h2 id="compilation-build-error"><a href="#compilation-build-error" class="header-anchor">#</a> Compilation/build error</h2> <p>This badge <a href="https://github.com/1technophile/OpenMQTTGateway/actions?query=branch%3Amaster+workflow%3ABuild" target="_blank" rel="noopener noreferrer"><img src="https://github.com/1technophile/OpenMQTTGateway/workflows/Build/badge.svg?branch=master" alt="Build Status"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> show you the state of the compilation of the master and this one <a href="https://github.com/1technophile/OpenMQTTGateway/actions?query=branch%3Adevelopment+workflow%3ABuild" target="_blank" rel="noopener noreferrer"><img src="https://github.com/1technophile/OpenMQTTGateway/workflows/Build/badge.svg?branch=development" alt="Build Status"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for the development branch.
If you see a green badge this means that the code compilation is OK with the configuration given in the <code>docs/platformio.ini</code>.
Check your environment, boards , libraries before submitting an issue or a question.</p> <h2 id="esp32-compilation-errors-related-to-wifi"><a href="#esp32-compilation-errors-related-to-wifi" class="header-anchor">#</a> ESP32 compilation errors related to WiFi</h2> <p>If you get one or several of the following errors:</p> <p><code>error: 'WIFI_STA' was not declared in this scope</code></p> <p><code>error: 'class WiFiClass' has no member named 'mode'</code></p> <p><code>error: no matching function for call to 'WiFiClass::macAddress()</code></p> <p>You have a conflict between Arduino default WiFi library and ESP32 one. So as to resolve this issue you should move or remove the Arduino WiFi library (Arduino Sketchbook folder\libraries\WiFi) in order to enable the IDE to take the one from ESP32 (Arduino Sketchbook folder\hardware\espressif\arduino-esp32\libraries\WiFi)
More info on <a href="https://community.openmqttgateway.com/t/esp32-compilation-error/144/5?u=1technophile" target="_blank" rel="noopener noreferrer">this topic<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="not-able-to-send-or-receive-rf-or-ir"><a href="#not-able-to-send-or-receive-rf-or-ir" class="header-anchor">#</a> Not able to send or receive RF or IR</h2> <p>→ Verify your power supply voltage with a multimeter, it should be 5V (can be 12V for FS1000A emitter),  please note that on NodeMCU V3 the Vin does not supply 5V contrary to NodeMCU V1</p> <p>→ Verify your wiring</p> <p>→ To eliminate issues of OpenMQTTGateway or you home controller try uploading basic examples from the libraries directly (like <a href="https://github.com/sui77/rc-switch/tree/master/examples/SendDemo" target="_blank" rel="noopener noreferrer">SendDemo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for RF or IRSendDemo for IR) and execute them. If it doesn't work this means that you have mostly an issue related with your hardware or due to IDE/library version used.</p> <p>Regarding the IR led emitter you can replace it with a normal led and see if it lights up when you send an MQTT command</p> <p>→ If you are only unable to receive RF on nodemcu (or if it only works when a serial connection is active):</p> <p>try with D2 instead of D3
and put
<code>#define RF_RECEIVER_GPIO 4 // D2 on nodemcu</code>
in config_rf.h
instead of
<code>#define RF_RECEIVER_GPIO 0 // D3 on nodemcu</code></p> <h2 id="repetitive-mqtt-disconnections-or-and-commands-sent-to-the-gateway-not-taken-into-account"><a href="#repetitive-mqtt-disconnections-or-and-commands-sent-to-the-gateway-not-taken-into-account" class="header-anchor">#</a> Repetitive MQTT disconnections or/and commands sent to the gateway not taken into account</h2> <p>Most probably a network issue, don't use a guest network and if going through a firewall check its rules. To put aside gateway issue, try to connect to a local broker on the same network.</p> <h2 id="omg-ignores-messages-sent-to-it-via-mqtt"><a href="#omg-ignores-messages-sent-to-it-via-mqtt" class="header-anchor">#</a> OMG ignores messages sent to it via MQTT</h2> <p>This can happen if the messages are too big and exceed the internal buffer size limit.  To fix this, check the size of the message you're sending (in bytes).  Next, open <code>User_config.h</code> and set <code>mqtt_max_payload_size</code> to be greater than that size, e.g.:
<code>#define mqtt_max_payload_size 1024</code></p> <h2 id="esp-continuous-restart-or-strange-behaviour"><a href="#esp-continuous-restart-or-strange-behaviour" class="header-anchor">#</a> ESP Continuous restart or strange behaviour:</h2> <p>This can be due to corruption of the ESP flash memory, try to erase flash and upload OMG on it again.</p> <p>If you didn't find your answer here post a question to the forum:
<a href="https://community.openmqttgateway.com" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/badge/community-forum-brightgreen.svg" alt="Community forum"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="esp-does-not-connect-to-broker-with-tls-enabled"><a href="#esp-does-not-connect-to-broker-with-tls-enabled" class="header-anchor">#</a> ESP does not connect to broker with TLS enabled</h2> <p>If you get the following error:
<code>W: failed, ssl error code=54</code> (&quot;Certificate is expired or not yet valid.&quot;)</p> <p>This is most probable caused by the time of the esp is not correct/synchronized.
The esp uses the Network Time Protocol (NTP) to get the current time from a time server.
If you get this error ntp is not configured correctly in the gateway.
Uncomment <code>//# define NTP_SERVER &quot;pool.ntp.org&quot;</code> to set the <code>pool.ntp.org</code> as the time server.
You can also choose any other ntp time server you like.</p> <p>It is normal that the time synchronization process takes some time and the MQTT connection will not be successful the first time.
If you set the ntp server for the gateway and keep getting the errors you should check your certificate validity duration.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/1technophile/OpenMQTTGateway/edit/development/docs/upload/troubleshoot.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">11/15/2024, 4:37:20 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/upload/advanced-configuration.html" class="prev">
        Advanced configuration of the gateway
      </a></span> <span class="next"><a href="/use/rf.html">
        RF gateways (RTL_433/RCSwitch/RF/RF2)
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.f837f19b.js" defer></script><script src="/assets/js/2.1486a66d.js" defer></script><script src="/assets/js/1.4ad45915.js" defer></script><script src="/assets/js/135.030d46e1.js" defer></script>
  </body>
</html>
